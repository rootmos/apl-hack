#!/usr/bin/dyalog -script
⍝ vim: kmp=dyalog

)copy loaddata
ns←1⌷[2]↑⍎¨¯1↓LoadTEXT'euler11.input'
d1←{(⍺+(⍳4)-1) ×.{ns[⍺;⍵]} (⍵+(⍳4)-1)} ⋄ x1 ← (⍳17) ∘.d1 ⍳(17)
d2←{(⍺+(⍳4)-1) ×.{ns[⍺;⍵]} (⍵-⍳4)}     ⋄ x2 ← (⍳17) ∘.d2 (4+⍳17)
h←{(4⍴⍺) ×.{ns[⍺;⍵]} (⍵+(⍳4)-1)}       ⋄ x3 ← (⍳20) ∘.h (⍳17)
v←{(⍺+(⍳4)-1) ×.{ns[⍺;⍵]} (4⍴⍵)}       ⋄ x4 ← (⍳17) ∘.v (⍳20)
⌈/⍣≡x1,x2,(⍉x3),x4
